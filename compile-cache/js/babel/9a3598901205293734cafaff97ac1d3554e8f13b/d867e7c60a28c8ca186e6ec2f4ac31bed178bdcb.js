function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _specHelpers = require("./spec-helpers");

var _specHelpers2 = _interopRequireDefault(_specHelpers);

var _path = require("path");

var _path2 = _interopRequireDefault(_path);

var _libBuilder = require("../lib/builder");

var _libBuilder2 = _interopRequireDefault(_libBuilder);

"use babel";

describe("Builder", function () {
  var builder = undefined,
      fixturesPath = undefined,
      filePath = undefined,
      logFilePath = undefined;

  beforeEach(function () {
    builder = new _libBuilder2["default"]();
    fixturesPath = _specHelpers2["default"].cloneFixtures();
    filePath = _path2["default"].join(fixturesPath, "file.tex");
    logFilePath = _path2["default"].join(fixturesPath, "file.log");
  });

  describe("constructPath", function () {
    it("reads `latex.texPath` as configured", function () {
      spyOn(atom.config, "get").andReturn();
      builder.constructPath();

      expect(atom.config.get).toHaveBeenCalledWith("latex.texPath");
    });

    it("uses platform default when `latex.texPath` is not configured", function () {
      var defaultTexPath = "/foo/bar";
      var expectedPath = [defaultTexPath, process.env.PATH].join(_path2["default"].delimiter);
      _specHelpers2["default"].spyOnConfig("latex.texPath", "");
      spyOn(builder, "defaultTexPath").andReturn(defaultTexPath);

      var constructedPath = builder.constructPath();

      expect(constructedPath).toBe(expectedPath);
    });

    it("replaces surrounded $PATH with process.env.PATH", function () {
      var texPath = "/foo:$PATH:/bar";
      var expectedPath = texPath.replace("$PATH", process.env.PATH);
      _specHelpers2["default"].spyOnConfig("latex.texPath", texPath);

      var constructedPath = builder.constructPath();

      expect(constructedPath).toBe(expectedPath);
    });

    it("replaces leading $PATH with process.env.PATH", function () {
      var texPath = "$PATH:/bar";
      var expectedPath = texPath.replace("$PATH", process.env.PATH);
      _specHelpers2["default"].spyOnConfig("latex.texPath", texPath);

      var constructedPath = builder.constructPath();

      expect(constructedPath).toBe(expectedPath);
    });

    it("replaces trailing $PATH with process.env.PATH", function () {
      var texPath = "/foo:$PATH";
      var expectedPath = texPath.replace("$PATH", process.env.PATH);
      _specHelpers2["default"].spyOnConfig("latex.texPath", texPath);

      var constructedPath = builder.constructPath();

      expect(constructedPath).toBe(expectedPath);
    });

    it("prepends process.env.PATH with texPath", function () {
      var texPath = "/foo";
      var expectedPath = [texPath, process.env.PATH].join(_path2["default"].delimiter);
      _specHelpers2["default"].spyOnConfig("latex.texPath", texPath);

      var constructedPath = builder.constructPath();

      expect(constructedPath).toBe(expectedPath);
    });
  });

  describe("parseLogFile", function () {
    var logParser = undefined;

    beforeEach(function () {
      logParser = jasmine.createSpyObj("MockLogParser", ["parse"]);
      spyOn(builder, "getLogParser").andReturn(logParser);
    });

    it("resolves the associated log file path by invoking @resolveLogFilePath", function () {
      spyOn(builder, "resolveLogFilePath").andReturn("foo.log");
      builder.parseLogFile(filePath);

      expect(builder.resolveLogFilePath).toHaveBeenCalledWith(filePath);
    });

    it("returns null if passed a file path that does not exist", function () {
      filePath = "/foo/bar/quux.tex";
      var result = builder.parseLogFile(filePath);

      expect(result).toBeNull();
      expect(logParser.parse).not.toHaveBeenCalled();
    });

    it("attempts to parse the resolved log file", function () {
      builder.parseLogFile(filePath);

      expect(builder.getLogParser).toHaveBeenCalledWith(logFilePath);
      expect(logParser.parse).toHaveBeenCalled();
    });
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2Npbl9jaGFsaWMvLmF0b20vcGFja2FnZXMvbGF0ZXgvc3BlYy9idWlsZGVyLXNwZWMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7MkJBRW9CLGdCQUFnQjs7OztvQkFDbkIsTUFBTTs7OzswQkFDSCxnQkFBZ0I7Ozs7QUFKcEMsV0FBVyxDQUFDOztBQU1aLFFBQVEsQ0FBQyxTQUFTLEVBQUUsWUFBVztBQUM3QixNQUFJLE9BQU8sWUFBQTtNQUFFLFlBQVksWUFBQTtNQUFFLFFBQVEsWUFBQTtNQUFFLFdBQVcsWUFBQSxDQUFDOztBQUVqRCxZQUFVLENBQUMsWUFBVztBQUNwQixXQUFPLEdBQUcsNkJBQWEsQ0FBQztBQUN4QixnQkFBWSxHQUFHLHlCQUFRLGFBQWEsRUFBRSxDQUFDO0FBQ3ZDLFlBQVEsR0FBRyxrQkFBSyxJQUFJLENBQUMsWUFBWSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0FBQy9DLGVBQVcsR0FBRyxrQkFBSyxJQUFJLENBQUMsWUFBWSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0dBQ25ELENBQUMsQ0FBQzs7QUFFSCxVQUFRLENBQUMsZUFBZSxFQUFFLFlBQVc7QUFDbkMsTUFBRSxDQUFDLHFDQUFxQyxFQUFFLFlBQVc7QUFDbkQsV0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUMsU0FBUyxFQUFFLENBQUM7QUFDdEMsYUFBTyxDQUFDLGFBQWEsRUFBRSxDQUFDOztBQUV4QixZQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxlQUFlLENBQUMsQ0FBQztLQUMvRCxDQUFDLENBQUM7O0FBRUgsTUFBRSxDQUFDLDhEQUE4RCxFQUFFLFlBQVc7QUFDNUUsVUFBTSxjQUFjLEdBQUcsVUFBVSxDQUFDO0FBQ2xDLFVBQU0sWUFBWSxHQUFHLENBQUMsY0FBYyxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLGtCQUFL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RUFBdUUsRUFBRSxZQUFXO0FBQ3JGLFdBQUssQ0FBQyxPQUFPLEVBQUUsb0JBQW9CLENBQUMsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDMUQsYUFBTyxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsQ0FBQzs7QUFFL0IsWUFBTSxDQUFDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLG9CQUFvQixDQUFDLFFBQVEsQ0FBQyxDQUFDO0tBQ25FLENBQUMsQ0FBQzs7QUFFSCxNQUFFLENBQUMsd0RBQXdELEVBQUUsWUFBVztBQUN0RSxjQUFRLEdBQUcsbUJBQW1CLENBQUM7QUFDL0IsVUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsQ0FBQzs7QUFFOUMsWUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO0FBQzFCLFlBQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLGdCQUFnQixFQUFFLENBQUM7S0FDaEQsQ0FBQyxDQUFDOztBQUVILE1BQUUsQ0FBQyx5Q0FBeUMsRUFBRSxZQUFXO0FBQ3ZELGFBQU8sQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLENBQUM7O0FBRS9CLFlBQU0sQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUMsb0JBQW9CLENBQUMsV0FBVyxDQUFDLENBQUM7QUFDL0QsWUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO0tBQzVDLENBQUMsQ0FBQztHQUNKLENBQUMsQ0FBQztDQUNKLENBQUMsQ0FBQyIsImZpbGUiOiIvaG9tZS9jaW5fY2hhbGljLy5hdG9tL3BhY2thZ2VzL2xhdGV4L3NwZWMvYnVpbGRlci1zcGVjLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgYmFiZWxcIjtcblxuaW1wb3J0IGhlbHBlcnMgZnJvbSBcIi4vc3BlYy1oZWxwZXJzXCI7XG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuaW1wb3J0IEJ1aWxkZXIgZnJvbSBcIi4uL2xpYi9idWlsZGVyXCI7XG5cbmRlc2NyaWJlKFwiQnVpbGRlclwiLCBmdW5jdGlvbigpIHtcbiAgbGV0IGJ1aWxkZXIsIGZpeHR1cmVzUGF0aCwgZmlsZVBhdGgsIGxvZ0ZpbGVQYXRoO1xuXG4gIGJlZm9yZUVhY2goZnVuY3Rpb24oKSB7XG4gICAgYnVpbGRlciA9IG5ldyBCdWlsZGVyKCk7XG4gICAgZml4dHVyZXNQYXRoID0gaGVscGVycy5jbG9uZUZpeHR1cmVzKCk7XG4gICAgZmlsZVBhdGggPSBwYXRoLmpvaW4oZml4dHVyZXNQYXRoLCBcImZpbGUudGV4XCIpO1xuICAgIGxvZ0ZpbGVQYXRoID0gcGF0aC5qb2luKGZpeHR1cmVzUGF0aCwgXCJmaWxlLmxvZ1wiKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJjb25zdHJ1Y3RQYXRoXCIsIGZ1bmN0aW9uKCkge1xuICAgIGl0KFwicmVhZHMgYGxhdGV4LnRleFBhdGhgIGFzIGNvbmZpZ3VyZWRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBzcHlPbihhdG9tLmNvbmZpZywgXCJnZXRcIikuYW5kUmV0dXJuKCk7XG4gICAgICBidWlsZGVyLmNvbnN0cnVjdFBhdGgoKTtcblxuICAgICAgZXhwZWN0KGF0b20uY29uZmlnLmdldCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXCJsYXRleC50ZXhQYXRoXCIpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJ1c2VzIHBsYXRmb3JtIGRlZmF1bHQgd2hlbiBgbGF0ZXgudGV4UGF0aGAgaXMgbm90IGNvbmZpZ3VyZWRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdCBkZWZhdWx0VGV4UGF0aCA9IFwiL2Zvby9iYXJcIjtcbiAgICAgIGNvbnN0IGV4cGVjdGVkUGF0aCA9IFtkZWZhdWx0VGV4UGF0aCwgcHJvY2Vzcy5lbnYuUEFUSF0uam9pbihwYXRoLmRlbGltaXRlcik7XG4gICAgICBoZWxwZXJzLnNweU9uQ29uZmlnKFwibGF0ZXgudGV4UGF0aFwiLCBcIlwiKTtcbiAgICAgIHNweU9uKGJ1aWxkZXIsIFwiZGVmYXVsdFRleFBhdGhcIikuYW5kUmV0dXJuKGRlZmF1bHRUZXhQYXRoKTtcblxuICAgICAgY29uc3QgY29uc3RydWN0ZWRQYXRoID0gYnVpbGRlci5jb25zdHJ1Y3RQYXRoKCk7XG5cbiAgICAgIGV4cGVjdChjb25zdHJ1Y3RlZFBhdGgpLnRvQmUoZXhwZWN0ZWRQYXRoKTtcbiAgICB9KTtcblxuICAgIGl0KFwicmVwbGFjZXMgc3Vycm91bmRlZCAkUEFUSCB3aXRoIHByb2Nlc3MuZW52LlBBVEhcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdCB0ZXhQYXRoID0gXCIvZm9vOiRQQVRIOi9iYXJcIjtcbiAgICAgIGNvbnN0IGV4cGVjdGVkUGF0aCA9IHRleFBhdGgucmVwbGFjZShcIiRQQVRIXCIsIHByb2Nlc3MuZW52LlBBVEgpO1xuICAgICAgaGVscGVycy5zcHlPbkNvbmZpZyhcImxhdGV4LnRleFBhdGhcIiwgdGV4UGF0aCk7XG5cbiAgICAgIGNvbnN0IGNvbnN0cnVjdGVkUGF0aCA9IGJ1aWxkZXIuY29uc3RydWN0UGF0aCgpO1xuXG4gICAgICBleHBlY3QoY29uc3RydWN0ZWRQYXRoKS50b0JlKGV4cGVjdGVkUGF0aCk7XG4gICAgfSk7XG5cbiAgICBpdChcInJlcGxhY2VzIGxlYWRpbmcgJFBBVEggd2l0aCBwcm9jZXNzLmVudi5QQVRIXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgY29uc3QgdGV4UGF0aCA9IFwiJFBBVEg6L2JhclwiO1xuICAgICAgY29uc3QgZXhwZWN0ZWRQYXRoID0gdGV4UGF0aC5yZXBsYWNlKFwiJFBBVEhcIiwgcHJvY2Vzcy5lbnYuUEFUSCk7XG4gICAgICBoZWxwZXJzLnNweU9uQ29uZmlnKFwibGF0ZXgudGV4UGF0aFwiLCB0ZXhQYXRoKTtcblxuICAgICAgY29uc3QgY29uc3RydWN0ZWRQYXRoID0gYnVpbGRlci5jb25zdHJ1Y3RQYXRoKCk7XG5cbiAgICAgIGV4cGVjdChjb25zdHJ1Y3RlZFBhdGgpLnRvQmUoZXhwZWN0ZWRQYXRoKTtcbiAgICB9KTtcblxuICAgIGl0KFwicmVwbGFjZXMgdHJhaWxpbmcgJFBBVEggd2l0aCBwcm9jZXNzLmVudi5QQVRIXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgY29uc3QgdGV4UGF0aCA9IFwiL2ZvbzokUEFUSFwiO1xuICAgICAgY29uc3QgZXhwZWN0ZWRQYXRoID0gdGV4UGF0aC5yZXBsYWNlKFwiJFBBVEhcIiwgcHJvY2Vzcy5lbnYuUEFUSCk7XG4gICAgICBoZWxwZXJzLnNweU9uQ29uZmlnKFwibGF0ZXgudGV4UGF0aFwiLCB0ZXhQYXRoKTtcblxuICAgICAgY29uc3QgY29uc3RydWN0ZWRQYXRoID0gYnVpbGRlci5jb25zdHJ1Y3RQYXRoKCk7XG5cbiAgICAgIGV4cGVjdChjb25zdHJ1Y3RlZFBhdGgpLnRvQmUoZXhwZWN0ZWRQYXRoKTtcbiAgICB9KTtcblxuICAgIGl0KFwicHJlcGVuZHMgcHJvY2Vzcy5lbnYuUEFUSCB3aXRoIHRleFBhdGhcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdCB0ZXhQYXRoID0gXCIvZm9vXCI7XG4gICAgICBjb25zdCBleHBlY3RlZFBhdGggPSBbdGV4UGF0aCwgcHJvY2Vzcy5lbnYuUEFUSF0uam9pbihwYXRoLmRlbGltaXRlcik7XG4gICAgICBoZWxwZXJzLnNweU9uQ29uZmlnKFwibGF0ZXgudGV4UGF0aFwiLCB0ZXhQYXRoKTtcblxuICAgICAgY29uc3QgY29uc3RydWN0ZWRQYXRoID0gYnVpbGRlci5jb25zdHJ1Y3RQYXRoKCk7XG5cbiAgICAgIGV4cGVjdChjb25zdHJ1Y3RlZFBhdGgpLnRvQmUoZXhwZWN0ZWRQYXRoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJwYXJzZUxvZ0ZpbGVcIiwgZnVuY3Rpb24oKSB7XG4gICAgbGV0IGxvZ1BhcnNlcjtcblxuICAgIGJlZm9yZUVhY2goZnVuY3Rpb24oKSB7XG4gICAgICBsb2dQYXJzZXIgPSBqYXNtaW5lLmNyZWF0ZVNweU9iaihcIk1vY2tMb2dQYXJzZXJcIiwgW1wicGFyc2VcIl0pO1xuICAgICAgc3B5T24oYnVpbGRlciwgXCJnZXRMb2dQYXJzZXJcIikuYW5kUmV0dXJuKGxvZ1BhcnNlcik7XG4gICAgfSk7XG5cbiAgICBpdChcInJlc29sdmVzIHRoZSBhc3NvY2lhdGVkIGxvZyBmaWxlIHBhdGggYnkgaW52b2tpbmcgQHJlc29sdmVMb2dGaWxlUGF0aFwiLCBmdW5jdGlvbigpIHtcbiAgICAgIHNweU9uKGJ1aWxkZXIsIFwicmVzb2x2ZUxvZ0ZpbGVQYXRoXCIpLmFuZFJldHVybihcImZvby5sb2dcIik7XG4gICAgICBidWlsZGVyLnBhcnNlTG9nRmlsZShmaWxlUGF0aCk7XG5cbiAgICAgIGV4cGVjdChidWlsZGVyLnJlc29sdmVMb2dGaWxlUGF0aCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoZmlsZVBhdGgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJyZXR1cm5zIG51bGwgaWYgcGFzc2VkIGEgZmlsZSBwYXRoIHRoYXQgZG9lcyBub3QgZXhpc3RcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBmaWxlUGF0aCA9IFwiL2Zvby9iYXIvcXV1eC50ZXhcIjtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGJ1aWxkZXIucGFyc2VMb2dGaWxlKGZpbGVQYXRoKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZU51bGwoKTtcbiAgICAgIGV4cGVjdChsb2dQYXJzZXIucGFyc2UpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdChcImF0dGVtcHRzIHRvIHBhcnNlIHRoZSByZXNvbHZlZCBsb2cgZmlsZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgIGJ1aWxkZXIucGFyc2VMb2dGaWxlKGZpbGVQYXRoKTtcblxuICAgICAgZXhwZWN0KGJ1aWxkZXIuZ2V0TG9nUGFyc2VyKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChsb2dGaWxlUGF0aCk7XG4gICAgICBleHBlY3QobG9nUGFyc2VyLnBhcnNlKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXX0=
//# sourceURL=/home/cin_chalic/.atom/packages/latex/spec/builder-spec.js
